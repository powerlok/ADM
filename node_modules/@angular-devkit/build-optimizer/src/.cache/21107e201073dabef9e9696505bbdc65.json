{"remainingRequest":"/home/laredo/Área de Trabalho/OBAADM-WEB/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/home/laredo/Área de Trabalho/OBAADM-WEB/node_modules/html2canvas/dist/npm/Window.js","dependencies":[{"path":"/home/laredo/Área de Trabalho/OBAADM-WEB/node_modules/html2canvas/dist/npm/Window.js","mtime":1549298997000},{"path":"/home/laredo/Área de Trabalho/OBAADM-WEB/node_modules/cache-loader/dist/cjs.js","mtime":1549298993000},{"path":"/home/laredo/Área de Trabalho/OBAADM-WEB/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1549298984000}],"contextDependencies":[],"result":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.renderElement = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _Logger = require('./Logger');\r\n\r\nvar _Logger2 = _interopRequireDefault(_Logger);\r\n\r\nvar _NodeParser = require('./NodeParser');\r\n\r\nvar _Renderer = require('./Renderer');\r\n\r\nvar _Renderer2 = _interopRequireDefault(_Renderer);\r\n\r\nvar _ForeignObjectRenderer = require('./renderer/ForeignObjectRenderer');\r\n\r\nvar _ForeignObjectRenderer2 = _interopRequireDefault(_ForeignObjectRenderer);\r\n\r\nvar _Feature = require('./Feature');\r\n\r\nvar _Feature2 = _interopRequireDefault(_Feature);\r\n\r\nvar _Bounds = require('./Bounds');\r\n\r\nvar _Clone = require('./Clone');\r\n\r\nvar _Font = require('./Font');\r\n\r\nvar _Color = require('./Color');\r\n\r\nvar _Color2 = _interopRequireDefault(_Color);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar renderElement = exports.renderElement = function renderElement(element, options, logger) {\r\n    var ownerDocument = element.ownerDocument;\r\n\r\n    var windowBounds = new _Bounds.Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\r\n\r\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n    var documentBackgroundColor = ownerDocument.documentElement ? new _Color2.default(getComputedStyle(ownerDocument.documentElement).backgroundColor) : _Color.TRANSPARENT;\r\n    var bodyBackgroundColor = ownerDocument.body ? new _Color2.default(getComputedStyle(ownerDocument.body).backgroundColor) : _Color.TRANSPARENT;\r\n\r\n    var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new _Color2.default(options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new _Color2.default(options.backgroundColor) : null;\r\n\r\n    return (options.foreignObjectRendering ? // $FlowFixMe\r\n    _Feature2.default.SUPPORT_FOREIGNOBJECT_DRAWING : Promise.resolve(false)).then(function (supportForeignObject) {\r\n        return supportForeignObject ? function (cloner) {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                logger.log('Document cloned, using foreignObject rendering');\r\n            }\r\n\r\n            return cloner.inlineFonts(ownerDocument).then(function () {\r\n                return cloner.resourceLoader.ready();\r\n            }).then(function () {\r\n                var renderer = new _ForeignObjectRenderer2.default(cloner.documentElement);\r\n\r\n                var defaultView = ownerDocument.defaultView;\r\n                var scrollX = defaultView.pageXOffset;\r\n                var scrollY = defaultView.pageYOffset;\r\n\r\n                var isDocument = element.tagName === 'HTML' || element.tagName === 'BODY';\r\n\r\n                var _ref = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(element, scrollX, scrollY),\r\n                    width = _ref.width,\r\n                    height = _ref.height,\r\n                    left = _ref.left,\r\n                    top = _ref.top;\r\n\r\n                return renderer.render({\r\n                    backgroundColor: backgroundColor,\r\n                    logger: logger,\r\n                    scale: options.scale,\r\n                    x: typeof options.x === 'number' ? options.x : left,\r\n                    y: typeof options.y === 'number' ? options.y : top,\r\n                    width: typeof options.width === 'number' ? options.width : Math.ceil(width),\r\n                    height: typeof options.height === 'number' ? options.height : Math.ceil(height),\r\n                    windowWidth: options.windowWidth,\r\n                    windowHeight: options.windowHeight,\r\n                    scrollX: options.scrollX,\r\n                    scrollY: options.scrollY\r\n                });\r\n            });\r\n        }(new _Clone.DocumentCloner(element, options, logger, true, renderElement)) : (0, _Clone.cloneWindow)(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref2) {\r\n            var _ref3 = _slicedToArray(_ref2, 3),\r\n                container = _ref3[0],\r\n                clonedElement = _ref3[1],\r\n                resourceLoader = _ref3[2];\r\n\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                logger.log('Document cloned, using computed rendering');\r\n            }\r\n\r\n            var stack = (0, _NodeParser.NodeParser)(clonedElement, resourceLoader, logger);\r\n            var clonedDocument = clonedElement.ownerDocument;\r\n\r\n            if (backgroundColor === stack.container.style.background.backgroundColor) {\r\n                stack.container.style.background.backgroundColor = _Color.TRANSPARENT;\r\n            }\r\n\r\n            return resourceLoader.ready().then(function (imageStore) {\r\n                var fontMetrics = new _Font.FontMetrics(clonedDocument);\r\n                if (process.env.NODE_ENV !== 'production') {\r\n                    logger.log('Starting renderer');\r\n                }\r\n\r\n                var defaultView = clonedDocument.defaultView;\r\n                var scrollX = defaultView.pageXOffset;\r\n                var scrollY = defaultView.pageYOffset;\r\n\r\n                var isDocument = clonedElement.tagName === 'HTML' || clonedElement.tagName === 'BODY';\r\n\r\n                var _ref4 = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(clonedElement, scrollX, scrollY),\r\n                    width = _ref4.width,\r\n                    height = _ref4.height,\r\n                    left = _ref4.left,\r\n                    top = _ref4.top;\r\n\r\n                var renderOptions = {\r\n                    backgroundColor: backgroundColor,\r\n                    fontMetrics: fontMetrics,\r\n                    imageStore: imageStore,\r\n                    logger: logger,\r\n                    scale: options.scale,\r\n                    x: typeof options.x === 'number' ? options.x : left,\r\n                    y: typeof options.y === 'number' ? options.y : top,\r\n                    width: typeof options.width === 'number' ? options.width : Math.ceil(width),\r\n                    height: typeof options.height === 'number' ? options.height : Math.ceil(height)\r\n                };\r\n\r\n                if (Array.isArray(options.target)) {\r\n                    return Promise.all(options.target.map(function (target) {\r\n                        var renderer = new _Renderer2.default(target, renderOptions);\r\n                        return renderer.render(stack);\r\n                    }));\r\n                } else {\r\n                    var renderer = new _Renderer2.default(options.target, renderOptions);\r\n                    var canvas = renderer.render(stack);\r\n                    if (options.removeContainer === true) {\r\n                        if (container.parentNode) {\r\n                            container.parentNode.removeChild(container);\r\n                        } else if (process.env.NODE_ENV !== 'production') {\r\n                            logger.log('Cannot detach cloned iframe as it is not in the DOM anymore');\r\n                        }\r\n                    }\r\n\r\n                    return canvas;\r\n                }\r\n            });\r\n        });\r\n    });\r\n};",null]}