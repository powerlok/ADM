{"remainingRequest":"D:\\Desenvolvimento\\OBAADM-WEB\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\Desenvolvimento\\OBAADM-WEB\\node_modules\\html2canvas\\dist\\npm\\renderer\\ForeignObjectRenderer.js","dependencies":[{"path":"D:\\Desenvolvimento\\OBAADM-WEB\\node_modules\\html2canvas\\dist\\npm\\renderer\\ForeignObjectRenderer.js","mtime":1549298997502},{"path":"D:\\Desenvolvimento\\OBAADM-WEB\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1549298993416},{"path":"D:\\Desenvolvimento\\OBAADM-WEB\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1549298984589}],"contextDependencies":[],"result":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar ForeignObjectRenderer = function () {\r\n    function ForeignObjectRenderer(element) {\r\n        _classCallCheck(this, ForeignObjectRenderer);\r\n\r\n        this.element = element;\r\n    }\r\n\r\n    _createClass(ForeignObjectRenderer, [{\r\n        key: 'render',\r\n        value: function render(options) {\r\n            var _this = this;\r\n\r\n            this.options = options;\r\n            this.canvas = document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.canvas.width = Math.floor(options.width) * options.scale;\r\n            this.canvas.height = Math.floor(options.height) * options.scale;\r\n            this.canvas.style.width = options.width + 'px';\r\n            this.canvas.style.height = options.height + 'px';\r\n\r\n            options.logger.log('ForeignObject renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + options.scale);\r\n            var svg = createForeignObjectSVG(Math.max(options.windowWidth, options.width) * options.scale, Math.max(options.windowHeight, options.height) * options.scale, options.scrollX * options.scale, options.scrollY * options.scale, this.element);\r\n\r\n            return loadSerializedSVG(svg).then(function (img) {\r\n                if (options.backgroundColor) {\r\n                    _this.ctx.fillStyle = options.backgroundColor.toString();\r\n                    _this.ctx.fillRect(0, 0, options.width * options.scale, options.height * options.scale);\r\n                }\r\n\r\n                _this.ctx.drawImage(img, -options.x * options.scale, -options.y * options.scale);\r\n                return _this.canvas;\r\n            });\r\n        }\r\n    }]);\r\n\r\n    return ForeignObjectRenderer;\r\n}();\r\n\r\nexports.default = ForeignObjectRenderer;\r\nvar createForeignObjectSVG = exports.createForeignObjectSVG = function createForeignObjectSVG(width, height, x, y, node) {\r\n    var xmlns = 'http://www.w3.org/2000/svg';\r\n    var svg = document.createElementNS(xmlns, 'svg');\r\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n    svg.setAttributeNS(null, 'width', width);\r\n    svg.setAttributeNS(null, 'height', height);\r\n\r\n    foreignObject.setAttributeNS(null, 'width', '100%');\r\n    foreignObject.setAttributeNS(null, 'height', '100%');\r\n    foreignObject.setAttributeNS(null, 'x', x);\r\n    foreignObject.setAttributeNS(null, 'y', y);\r\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n    svg.appendChild(foreignObject);\r\n\r\n    foreignObject.appendChild(node);\r\n\r\n    return svg;\r\n};\r\n\r\nvar loadSerializedSVG = exports.loadSerializedSVG = function loadSerializedSVG(svg) {\r\n    return new Promise(function (resolve, reject) {\r\n        var img = new Image();\r\n        img.onload = function () {\r\n            return resolve(img);\r\n        };\r\n        img.onerror = reject;\r\n\r\n        img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n    });\r\n};",null]}