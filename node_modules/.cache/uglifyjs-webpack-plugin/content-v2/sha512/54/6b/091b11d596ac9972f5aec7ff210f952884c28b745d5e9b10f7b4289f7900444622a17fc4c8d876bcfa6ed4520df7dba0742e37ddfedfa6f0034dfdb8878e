{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{\"6uYy\":function(e,t,n){\"use strict\";n.d(t,\"g\",function(){return a}),n.d(t,\"d\",function(){return o}),n.d(t,\"a\",function(){return s}),n.d(t,\"h\",function(){return u}),n.d(t,\"b\",function(){return h}),n.d(t,\"c\",function(){return l}),n.d(t,\"e\",function(){return p}),n.d(t,\"f\",function(){return c});var i=n(\"CcnG\"),r=n(\"mrSG\"),a=new i.q(\"config\"),o=new i.q(\"NEW_CONFIG\"),s=new i.q(\"INITIAL_CONFIG\"),u={clearIfNotMatch:!1,showTemplate:!1,dropSpecialCharacters:!0,specialCharacters:[\"/\",\"(\",\")\",\".\",\":\",\"-\",\" \",\"+\",\",\",\"@\",\"[\",\"]\"],patterns:{0:{pattern:new RegExp(\"\\\\d\")},9:{pattern:new RegExp(\"\\\\d\"),optional:!0},A:{pattern:new RegExp(\"[a-zA-Z0-9]\")},S:{pattern:new RegExp(\"[a-zA-Z]\")}}},l=function(){function e(e,t,n,i){this.document=e,this._config=t,this._elementRef=n,this._renderer=i,this.maskExpression=\"\",this.onChange=function(e){},this.onTouch=function(){},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this._formElement=this._elementRef.nativeElement}return e.prototype.applyMask=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=function(){}),void 0===e||null===e||void 0===t)return\"\";for(var r=0,a=\"\",o=e.toString().split(\"\"),s=!1,u=0,l=o[0];u<o.length&&r!==t.length;l=o[++u])if(this._checkSymbolMask(l,t[r])&&\"?\"===t[r+1])a+=l,r+=2;else if(this._checkSymbolMask(l,t[r])&&\"*\"===t[r+1])a+=l,s=!0;else if(\"*\"===t[r+1]&&s&&this._checkSymbolMask(l,t[r+2]))a+=l,r+=3,s=!1;else if(\"?\"===t[r+1]&&this._checkSymbolMask(l,t[r+2]))a+=l,r+=3;else if(this._checkSymbolMask(l,t[r]))a+=l,r++;else if(-1!==this.maskSpecialCharacters.indexOf(t[r])){a+=t[r];var h=/\\*|\\?/g.test(t.slice(0,++r))?o.length:r;this._shift.add(h),u--}else this.maskSpecialCharacters.indexOf(l)>-1&&this.maskAvailablePatterns[t[r]]&&this.maskAvailablePatterns[t[r]].optional&&(r++,u--);a.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(a+=t[t.length-1]);for(var p=1,c=n+1;this._shift.has(c);)p++,c++;return i(this._shift.has(n)?p:0),Array.isArray(this.dropSpecialCharacters)?this.onChange(this._removeMask(a,this.dropSpecialCharacters)):this.onChange(!0===this.dropSpecialCharacters?this._removeMask(a,this.maskSpecialCharacters):a),a},e.prototype.applyValueChanges=function(e,t){void 0===e&&(e=0),void 0===t&&(t=function(){});var n=this.applyMask(this._formElement.value,this.maskExpression,e,t);this._formElement.value=n,this._formElement!==this.document.activeElement&&this.clearIfNotMatchFn()},e.prototype.clearIfNotMatchFn=function(){!0===this.clearIfNotMatch&&this.maskExpression.length!==this._formElement.value.length&&(this.formElementProperty=[\"value\",\"\"])},Object.defineProperty(e.prototype,\"formElementProperty\",{set:function(e){var t=Object(r.e)(e,2);this._renderer.setProperty(this._formElement,t[0],t[1])},enumerable:!0,configurable:!0}),e.prototype._removeMask=function(e,t){return e?e.replace(this._regExpForRemove(t),\"\"):e},e.prototype._checkSymbolMask=function(e,t){return e===t||this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)},e.prototype._regExpForRemove=function(e){return new RegExp(e.map(function(e){return\"\\\\\"+e}).join(\"|\"),\"gi\")},e}(),h=function(){function e(e,t){this.document=e,this._maskService=t,this._position=null,this.onChange=function(e){},this.onTouch=function(){}}return Object.defineProperty(e.prototype,\"maskExpression\",{set:function(e){this._maskValue=e||\"\",this._maskValue&&(this._maskService.maskExpression=this._maskValue,this._maskService.formElementProperty=[\"value\",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"specialCharacters\",{set:function(e){e&&Array.isArray(e)&&(!Array.isArray(e)||e.length)&&(this._maskService.maskSpecialCharacters=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"patterns\",{set:function(e){e&&(this._maskService.maskAvailablePatterns=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"dropSpecialCharacters\",{set:function(e){this._maskService.dropSpecialCharacters=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"showTemplate\",{set:function(e){this._maskService.showTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"clearIfNotMatch\",{set:function(e){this._maskService.clearIfNotMatch=e},enumerable:!0,configurable:!0}),e.prototype.onInput=function(e){var t=e.target;if(this._inputValue=t.value,this._maskValue){var n=t.selectionStart,i=0;this._maskService.applyValueChanges(n,function(e){return i=e}),this.document.activeElement===t&&(t.selectionStart=t.selectionEnd=null!==this._position?this._position:n+(\"deleteContentBackward\"===e.inputType?0:i),this._position=null)}else this.onChange(t.value)},e.prototype.onBlur=function(){this._maskService.clearIfNotMatchFn(),this.onTouch()},e.prototype.onPaste=function(){this._position=Number.MAX_SAFE_INTEGER},e.prototype.writeValue=function(e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){return void 0===e?[2]:(this._maskService.formElementProperty=e&&this._maskService.maskExpression?[\"value\",this._maskService.applyMask(e,this._maskService.maskExpression)]:[\"value\",e],this._inputValue=e,[2])})})},e.prototype.registerOnChange=function(e){this.onChange=e,this._maskService.onChange=this.onChange},e.prototype.registerOnTouched=function(e){this.onTouch=e},e.prototype.setDisabledState=function(e){this._maskService.formElementProperty=[\"disabled\",e]},e}(),p=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:o,useValue:t},{provide:s,useValue:u},{provide:a,useFactory:c,deps:[s,o]}]}},e}();function c(e,t){return\"function\"==typeof t?t():Object(r.a)({},e,t)}},Pc2U:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i}),n(\"gdYL\");var i=function(){}},gdYL:function(e,t,n){\"use strict\";var i=n(\"CcnG\"),r=(n(\"gIcY\"),n(\"uTKl\"),function(){function e(e){this.htmlInputElement=e}return e.prototype.setCursorAt=function(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){var t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd(\"character\",e),t.moveStart(\"character\",e),t.select()}},e.prototype.updateValueAndCursor=function(e,t,n){this.rawValue=e,this.setCursorAt(n-=t-e.length)},Object.defineProperty(e.prototype,\"canInputMoreNumbers\",{get:function(){var e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd,i=!(t==n||!this.htmlInputElement.value.substring(t,n).match(/\\d/)),r=\"0\"==this.htmlInputElement.value.substring(0,1);return e||i||r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"inputSelection\",{get:function(){var e=0,t=0;if(\"number\"==typeof this.htmlInputElement.selectionStart&&\"number\"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()==this.htmlInputElement){var i=this.htmlInputElement.value.length,r=this.htmlInputElement.value.replace(/\\r\\n/g,\"\\n\"),a=this.htmlInputElement.createTextRange();a.moveToBookmark(n.getBookmark());var o=this.htmlInputElement.createTextRange();o.collapse(!1),a.compareEndPoints(\"StartToEnd\",o)>-1?e=t=i:(e=-a.moveStart(\"character\",-i),e+=r.slice(0,e).split(\"\\n\").length-1,a.compareEndPoints(\"EndToEnd\",o)>-1?t=i:(t=-a.moveEnd(\"character\",-i),t+=r.slice(0,t).split(\"\\n\").length-1))}}return{selectionStart:e,selectionEnd:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rawValue\",{get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"storedRawValue\",{get:function(){return this._storedRawValue},enumerable:!0,configurable:!0}),e}()),a=function(){function e(e,t){this.htmlInputElement=e,this.options=t,this.inputManager=new r(e)}return e.prototype.addNumber=function(e){this.rawValue||(this.rawValue=this.applyMask(!1,\"0\"));var t=String.fromCharCode(e),n=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,n)+t+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(n+1)},e.prototype.applyMask=function(e,t){var n=this.options,i=n.allowNegative,r=n.decimal,a=n.precision,o=n.prefix,s=n.suffix,u=n.thousands,l=(t=e?new Number(t).toFixed(a):t).replace(/[^0-9]/g,\"\");if(!l)return\"\";var h=l.slice(0,l.length-a).replace(/^0*/g,\"\").replace(/\\B(?=(\\d{3})+(?!\\d))/g,u);\"\"==h&&(h=\"0\");var p=h,c=l.slice(l.length-a);a>0&&(p+=r+c);var f=0==parseInt(h)&&(0==parseInt(c)||\"\"==c);return(t.indexOf(\"-\")>-1&&i&&!f?\"-\":\"\")+o+p+s},e.prototype.clearMask=function(e){if(this.isNullable()&&\"\"===e)return null;var t=(e||\"0\").replace(this.options.prefix,\"\").replace(this.options.suffix,\"\");return this.options.thousands&&(t=t.replace(new RegExp(\"\\\\\"+this.options.thousands,\"g\"),\"\")),this.options.decimal&&(t=t.replace(this.options.decimal,\".\")),parseFloat(t)},e.prototype.changeToNegative=function(){this.options.allowNegative&&\"\"!=this.rawValue&&\"-\"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=\"-\"+this.rawValue)},e.prototype.changeToPositive=function(){this.rawValue=this.rawValue.replace(\"-\",\"\")},e.prototype.removeNumber=function(e){if(this.isNullable()&&0==this.value)this.rawValue=null;else{var t=this.inputSelection.selectionEnd,n=this.inputSelection.selectionStart;n>this.rawValue.length-this.options.suffix.length&&(t=this.rawValue.length-this.options.suffix.length,n=this.rawValue.length-this.options.suffix.length),t=46==e||63272==e?t+1:t,this.rawValue=this.rawValue.substring(0,n=8==e?n-1:n)+this.rawValue.substring(t,this.rawValue.length),this.updateFieldValue(n)}},e.prototype.updateFieldValue=function(e){var t=this.applyMask(!1,this.rawValue||\"\");this.inputManager.updateValueAndCursor(t,this.rawValue.length,e=void 0==e?this.rawValue.length:e)},e.prototype.updateOptions=function(e){var t=this.value;this.options=e,this.value=t},e.prototype.prefixLenght=function(){return this.options.prefix.length},e.prototype.isNullable=function(){return this.options.nullable},Object.defineProperty(e.prototype,\"canInputMoreNumbers\",{get:function(){return this.inputManager.canInputMoreNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"inputSelection\",{get:function(){return this.inputManager.inputSelection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rawValue\",{get:function(){return this.inputManager.rawValue},set:function(e){this.inputManager.rawValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"storedRawValue\",{get:function(){return this.inputManager.storedRawValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"value\",{get:function(){return this.clearMask(this.rawValue)},set:function(e){this.rawValue=this.applyMask(!0,\"\"+e)},enumerable:!0,configurable:!0}),e}(),o=function(){function e(e,t){this.inputService=new a(e,t)}return e.prototype.handleCut=function(e){var t=this;setTimeout(function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)},0)},e.prototype.handleInput=function(e){var t=this.inputService.rawValue.charCodeAt(this.inputService.rawValue.length-1),n=this.inputService.rawValue.length,i=this.inputService.inputSelection.selectionEnd,r=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,n==i&&1==Math.abs(n-r)){if(n<r&&this.inputService.removeNumber(8),n>r)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers)return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)},e.prototype.handleKeydown=function(e){var t=e.which||e.charCode||e.keyCode;if(8==t||46==t||63272==t){e.preventDefault();var n=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);0==n&&(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),n>=this.inputService.rawValue.length-this.inputService.prefixLenght()&&this.clearValue()}},e.prototype.clearValue=function(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)},e.prototype.handleKeypress=function(e){var t=e.which||e.charCode||e.keyCode;if(97!==t||!e.ctrlKey){switch(t){case void 0:case 9:case 13:case 37:case 39:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(0),this.inputService.addNumber(t))}e.preventDefault(),this.onModelChange(this.inputService.value)}},e.prototype.handlePaste=function(e){var t=this;setTimeout(function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)},1)},e.prototype.updateOptions=function(e){this.inputService.updateOptions(e)},e.prototype.getOnModelChange=function(){return this.onModelChange},e.prototype.setOnModelChange=function(e){this.onModelChange=e},e.prototype.getOnModelTouched=function(){return this.onModelTouched},e.prototype.setOnModelTouched=function(e){this.onModelTouched=e},e.prototype.setValue=function(e){this.inputService.value=e},e.prototype.setCursorPosition=function(e){setTimeout(function(){e.target.setSelectionRange(e.target.value.length,e.target.value.length)},0)},e}();n.d(t,\"a\",function(){return s}),Object(i.W)(function(){return s});var s=function(){function e(e,t,n){this.currencyMaskConfig=e,this.elementRef=t,this.keyValueDiffers=n,this.options={},this.optionsTemplate={align:\"right\",allowNegative:!0,allowZero:!0,decimal:\".\",precision:2,prefix:\"$ \",suffix:\"\",thousands:\",\",nullable:!1},e&&(this.optionsTemplate=e),this.keyValueDiffer=n.find({}).create(null)}return e.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align},e.prototype.ngDoCheck=function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))},e.prototype.ngOnInit=function(){this.inputHandler=new o(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))},e.prototype.handleBlur=function(e){this.inputHandler.getOnModelTouched().apply(e)},e.prototype.handleCut=function(e){this.isChromeAndroid()||this.inputHandler.handleCut(e)},e.prototype.handleInput=function(e){this.isChromeAndroid()&&this.inputHandler.handleInput(e)},e.prototype.handleKeydown=function(e){this.isChromeAndroid()||this.inputHandler.handleKeydown(e)},e.prototype.handleKeypress=function(e){this.isChromeAndroid()||this.inputHandler.handleKeypress(e)},e.prototype.handlePaste=function(e){this.isChromeAndroid()||this.inputHandler.handlePaste(e)},e.prototype.isChromeAndroid=function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)},e.prototype.registerOnChange=function(e){this.inputHandler.setOnModelChange(e)},e.prototype.registerOnTouched=function(e){this.inputHandler.setOnModelTouched(e)},e.prototype.setDisabledState=function(e){this.elementRef.nativeElement.disabled=e},e.prototype.writeValue=function(e){this.inputHandler.setValue(e)},e}()},uTKl:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i});var i=new(n(\"CcnG\").q)(\"currency.mask.config\")}}]);","extractedComments":[]}